<md-dialog aria-label="new comment">
    <md-toolbar class="md-accent">
        <div class="md-toolbar-tools" layout="row">
            <h5>New Comment for {{ ctrl.movie.title }}</h5>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="ctrl.close()">
                <md-icon md-font-icon="ion-android-close" aria-label="Close dialog" class="md-primary"></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content>
        <form name="commentForm" ng-submit="ctrl.addComment(ctrl.comment)">
            <md-input-container>
                <label>Title of your comment...</label>
                <input type="text" md-maxlength="20" pattern="[a-zA-Z0-9]+" name="title" autofocus="true"
                       ng-model="ctrl.comment.title" required/>

                <div ng-messages="commentForm.title.$error"
                     ng-show="commentForm.title.$touched || commentForm.$submitted">
                    <div ng-message="required">
                        title is required
                    </div>
                    <div ng-message="pattern">
                        Only letter and number
                    </div>
                    <div ng-message="md-maxlength">
                        50 character max
                    </div>
                </div>
            </md-input-container>
            <md-input-container>
                <label>Your comment ...</label>
                <textarea name="content" ng-model="ctrl.comment.content" md-maxlength="156" required></textarea>

                <div ng-messages="commentForm.content.$error"
                     ng-show="commentForm.content.$touched || commentForm.$submitted">
                    <div ng-message="required">
                        content is required
                    </div>
                    <div ng-message="md-maxlength">
                        156 character max
                    </div>
                </div>
            </md-input-container>
            <div class="row">
                <md-button type="reset" flex class="md-raised md-warn">
                    Reset
                </md-button>
                <md-button type="submit" flex class="md-primary md-raised">
                    Submit
                </md-button>
            </div>
        </form>
    </md-dialog-content>
</md-dialog>